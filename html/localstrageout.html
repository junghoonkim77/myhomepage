<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
       
     
       
       button{
        width : 60px;
       }
       .but3{
        position :fixed ;
        left : 460px;
        top : 40px;
        background-color: red;
       }
       .srvalue{
        width:400px;
        font-size :13px;
       }
       .delkey {
        font-size: 11px;
           }
       
    </style>
    <title>로컬아웃풋</title>
</head>
<body>
   
    <button class="but3">all삭제</button>
    
 <div class="div1"></div>
 <div class="div2"></div>
  
 <script>
    jQuery(function(){
        
        var savedValues = Object.values(localStorage);
        var $dblength = localStorage.length;
        console.log($dblength);
        console.log(localStorage.key(0));
        var $idxstart= 0 ;
        for ( var values of savedValues){
           var $dbkey = localStorage.key($idxstart)   
           $('.div2').
           append(`<button class="delkey">삭제[${$idxstart}]</button><div class="srvalue"><div style="color:blue;font-weight: bold;">순서[${$idxstart}] 제목 :${$dbkey}</div>
            <div>내용 ▶${values}</div></div><br>`);
           $idxstart++
        }
        
        var $delkey =$('.delkey');      
        $delkey.click(function(){
            var $delkeyIdx = $(this).index('.delkey');
            console.log($delkeyIdx);
            var $deldb = localStorage.key($delkeyIdx);
            console.log($deldb)
            localStorage.removeItem($deldb);
            location.reload();
        })
       
        $('.but3').click(function(){
            localStorage.clear();
            location.reload();
        })
        

    })
 </script>

</body>
</html>
